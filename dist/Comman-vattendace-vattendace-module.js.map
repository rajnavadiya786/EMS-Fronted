{"version":3,"sources":["./src/app/Comman/vattendace/vattendace-routing.module.ts","./src/app/Comman/vattendace/vattendace.component.ts","./src/app/Comman/vattendace/vattendace.component.html","./src/app/Comman/vattendace/vattendace.module.ts"],"names":[],"mappings":"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","file":"Comman-vattendace-vattendace-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VattendaceComponent } from './vattendace.component'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VattendaceComponent,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class VattendaceRoutingModule { }\nexport const routedComponents = [VattendaceComponent];\n\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ToastrService } from 'ngx-toastr';\nimport swal from 'sweetalert2';\nimport { AuthService } from '../../shared/auth/auth.service';\nimport dateformat from 'dateformat'\n\n@Component({\n  selector: 'app-vattendace',\n  templateUrl: './vattendace.component.html',\n  styleUrls: ['./vattendace.component.scss']\n})\nexport class VattendaceComponent implements OnInit {\n\n  url = 'https://cooing-famous-iguanacolossus.glitch.me/Faculty/Attendance';\n  courses: any;\n  tbldata: any;\n  standards: any;\n  alertsettings: any;\n\n  AttendaceData: any;\n  role: string;\n  constructor(private http: HttpClient, private toast: ToastrService, private AuthService: AuthService) {\n    this.role = this.AuthService.getRole()\n  }\n\n  fetchstan() {\n    this.http.get(this.url).subscribe((data: any) => {\n      this.AttendaceData = data.map(item => {\n        return {\n          ...item,\n          Date: dateformat(item.Date, \"fullDate\"),\n          Student_Name: item.Student_Id?.Name,\n          Faculty_Name: item.Faculty_Id?.Name,\n          Course_Name: item.Student_Id?.Course_id?.Course_Name,\n          Standard_Name: item.Student_Id?.Standard_id?.Name\n        }\n      })\n      this.alertsettings = {\n        actions: {\n          add: false,\n          edit: false,\n          delete: this.role === \"Student\" ? false : true\n        },\n        delete: {\n          confirmDelete: true,\n          deleteButtonContent: '<i class=\"ft-x danger font-medium-1 mr-2\"></i>'\n        },\n\n        edit: {\n          confirmSave: true,\n          editButtonContent: '<i class=\"ft-edit-2 info font-medium-1 mr-2\"></i>'\n        },\n\n        columns: {\n          Student_Name: {\n            title: \"Student Name\",\n          },\n          Faculty_Name: {\n            title: \"Faculty Name\",\n          },\n          Course_Name: {\n            title: \"Course_Name\",\n          },\n          Standard_Name: {\n            title: \"Standard_Name\",\n          },\n          Present: {\n            title: \"Present\",\n          },\n          Date: {\n            title: 'Date',\n          }\n        },\n        attr: {\n          class: \"table table-responsive\"\n        },\n\n      };\n    })\n\n  }\n\n  ngOnInit(): void {\n    this.fetchstan()\n  }\n\n\n  onDeleteConfirm(event) {\n    var that = this\n    swal.fire({\n      title: 'Are you sure you want to delete?',\n      text: \"You won't be able to revert this!\",\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#0CC27E',\n      cancelButtonColor: '#FF586B',\n      confirmButtonText: 'Yes, Delete It!',\n      cancelButtonText: 'No, cancel!',\n      confirmButtonClass: 'btn btn-success btn-raised mr-5',\n      cancelButtonClass: 'btn btn-danger btn-raised',\n      buttonsStyling: false\n    }).then(function (data) {\n      if (data.dismiss === swal.DismissReason.cancel) {\n        event.confirm.reject();\n        swal.fire(\n          'Cancelled',\n          'Your imaginary file is safe :)',\n          'error'\n        )\n      } else {\n        console.log(event.data)\n\n        that.http.delete(`https://cooing-famous-iguanacolossus.glitch.me/Faculty/Attendance?_id=` + event.data._id).subscribe((data: any) => {\n          if (data.Error) {\n            that.toast.error(data.Error);\n          } else {\n            that.toast.error(data.Success);\n            that.fetchstan()\n          }\n        })\n        event.confirm.resolve();\n        swal.fire(\n          'Deleted!',\n          'Your imaginary file has been deleted.',\n          'success'\n        )\n      }\n    })\n  }\n\n  //  For confirm action On Save\n  onSaveConfirm(event) {\n    var that = this\n    swal.fire({\n      title: 'Are you sure you want to Update?',\n      text: \"You won't be able to revert this!\",\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#0CC27E',\n      cancelButtonColor: '#FF586B',\n      confirmButtonText: 'Yes, Update It!',\n      cancelButtonText: 'No, Cancel!',\n      confirmButtonClass: 'btn btn-success btn-raised mr-5',\n      cancelButtonClass: 'btn btn-danger btn-raised',\n      buttonsStyling: false\n    }).then(function (data) {\n      if (data.dismiss === swal.DismissReason.cancel) {\n        event.confirm.reject();\n        swal.fire(\n          'Cancelled',\n          'Your imaginary file is safe :)',\n          'error'\n        )\n      } else {\n        console.log(event.data)\n        that.http.put(`https://cooing-famous-iguanacolossus.glitch.me/Faculty/Attendance`, { ...event.newData, Course_ID: event.newData.Course_Name }).subscribe((data: any) => {\n          if (data.Error) {\n            that.toast.error(data.Error);\n          } else {\n            that.toast.success(data.Success);\n            // that.fetchstan()\n            event.confirm.resolve(event.newData);\n\n          }\n        })\n        event.confirm.resolve();\n        swal.fire(\n          'Updated!',\n          'Your imaginary file has been Updated.',\n          'success'\n        )\n      }\n    })\n\n  }\n\n}\n","<div class=\"row text-left\">\n  <div class=\"col-sm-12\">\n    <div class=\"card\">\n      <div class=\"card-content\">\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <ng2-smart-table [settings]=\"alertsettings\" [source]=\"AttendaceData\"\n              (deleteConfirm)=\"onDeleteConfirm($event)\" (editConfirm)=\"onSaveConfirm($event)\"></ng2-smart-table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { VattendaceRoutingModule } from './vattendace-routing.module';\nimport { VattendaceComponent } from './vattendace.component';\n\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\nimport { ReactiveFormsModule,FormsModule } from '@angular/forms';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { TokenInterceptorService } from 'app/shared/auth/token-interceptor.service';\n\n@NgModule({\n  declarations: [VattendaceComponent],\n  imports: [\n    CommonModule,\n    VattendaceRoutingModule,\n    Ng2SmartTableModule,\n    ReactiveFormsModule,FormsModule\n  ],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: TokenInterceptorService,\n      multi: true\n    }\n  ],\n})\nexport class VattendaceModule { }\n"],"sourceRoot":"webpack:///"}